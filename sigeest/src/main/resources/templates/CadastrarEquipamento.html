<!DOCTYPE html>
<html   xmlns="http://www.w3.org/1999/xhtml"
		xmlns:th="http://www.thymeleaf.org"
		xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
		xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	    layout:decorator="LayoutPadrao">
	    
<head>
<title>Cadastrar equipamento</title>
</head>

<section layout:fragment="conteudo">
	<!-- 	Código revisado, finalizado. -->

	<form class="form-horizontal" data-toggle="validator" role="form" method="POST" th:action="@{/equipamento}" th:object="${equipamento}">

		<div layout:include="MensagemGeral"></div>
		<div layout:include="MensagemErro"></div>

		<div class="panel panel-primary">
			<!--HEADING DO PAINEL-->
			<div class="panel-heading">
				<div class="clearfix">
					<h1 class="panel-title sg-title-panel">Novo equipamento</h1>
				</div>
			</div>
			
			<div class="panel-body">

				<input type="hidden" th:field="*{codigo}" />

				<div class="form-group"	th:classappend="${#fields.hasErrors('nome')} ? 'has-error'">
					<label for="nome" class="col-sm-2 control-label">Nome:</label>
					<div class="col-sm-4">
						<input type="text" id="nome" th:field="*{nome}"  class="form-control" placeholder="Informe o nome"
						data-error="Por favor, digite o nome do equipamento!" th:required="required"/>
						<div class="help-block with-errors"></div>
					</div>
				</div>

				<div class="form-group"
					th:classappend="${#fields.hasErrors('mac')} ? 'has-error'">
					<label for="mac" class='col-sm-2 control-label'>MAC:</label>
					<div class="col-sm-4">
						<input type="text" id="mac" th:field="*{mac}"  class="form-control" placeholder="MAC-ADDRESS"
						data-error="Digite um valor para o MAC-ADDRESS!" th:required="required"/>
						<div class="help-block with-errors"></div>
					</div>
				</div>

				<div class="form-group"	th:classappend="${#fields.hasErrors('tipo')} ? 'has-error'">
					<label for="tipo" class='col-sm-2 control-label'>Tipo</label>
					<div class="col-sm-4">
						<select class="form-control" name="tipo" th:required="required" th:field="*{tipo}" >
							<option th:each="tipo : ${todosTiposEquipamentos}" th:value="${tipo}" th:text="${tipo.descricao}"></option>
						</select>
						<div class="help-block with-errors"></div>
					</div>
				</div>

				<div class="form-group"	th:classappend="${#fields.hasErrors('voltagem')} ? 'has-error'">
					<label for="voltagem" class='col-sm-2 control-label'>Voltagem:</label>
					<div class="col-sm-4">
						<input type="text" class="form-control" id="voltagem"  th:field="*{voltagem}" placeholder="Informe a voltagem"
						data-error="Digite a voltagem" th:required="required"/>
						<div class="help-block with-errors"></div>
					</div>
				</div>

				<div class="form-group"
					th:classappend="${#fields.hasErrors('corrente')} ? 'has-error'">
					<label for="corrente" class='col-sm-2 control-label'>Corrente:</label>
					<div class="col-sm-4">
						<input type="text" class="form-control" id="corrente" th:field="*{corrente}" placeholder="Informe a corrente" 
						data-error="Digite a corrente" th:required="required"/>
						<div class="help-block with-errors"></div>
					</div>
				</div>

				<div class="form-group"
					th:classappend="${#fields.hasErrors('preco')} ? 'has-error'">
					<label for="preco" class='col-sm-2 control-label'>Preço:</label>
					<div class="col-sm-4">
						<input type="text" class="form-control js-valores" id="preco" th:field="*{preco}" placeholder="Informe o preco unitário" 
						data-error="Digite o preço do equipamento" th:required="required"/>
						<div class="help-block with-errors"></div>
					</div>
				</div>

				<div class="form-group"
					th:classappend="${#fields.hasErrors('dataCompra')} ? 'has-error'">
					<label for="dataCompra" class='col-sm-2 control-label'>Data	Compra:</label>
					<div class="col-sm-4">
						<input type="text" class="form-control datepicker" id="dataCompra"
							th:field="*{dataCompra}" data-provide="datepicker" data-date-form="dd/mm/yyyy"
							data-date-language="pt-BR" data-date-autoclose="true" data-date-today-highlight="true"
							placeholder="Informe a data da compra" data-error="Digite a data de compra" th:required="required"  />
						<div class="help-block with-errors"></div>
					</div>
				</div>

				<div class="form-group">
					<label for="fabricante" class='col-sm-2 control-label'>Fabricante:</label>
					<div class="col-sm-4">
						<select class="form-control" name="fabricante" th:field="*{fabricante}">
							<option th:each="fabricante : ${todosFabricantes}" th:value="${fabricante.codigo}" th:text="${fabricante.nome}"></option>
						</select>
						<div class="help-block with-errors"></div>
					</div>
				</div>
				
				<div class="form-group" th:classappend="${#fields.hasErrors('estoque')} ? 'has-error'">
					<label for="estoque" class='col-sm-2 control-label'>Estoque:</label>
					<div class="col-sm-4">
						<select class="form-control" name="estoque" th:field="*{estoque}" th:required="required">
							<option th:each="estoque : ${todosEstoques}" th:value="${estoque.codigo}" th:text="${estoque.descricao}"></option>
						</select>
						<div class="help-block with-errors"></div>
					</div>
				</div>
				
				<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-10">
						<button type="submit" class="btn btn-primary">Salvar</button>
						<a class="btn btn-default" th:href="@{/equipamentos}">Cancelar</a>
					</div>
				</div>
			</div>
		</div>
	</form>
</section>

</html>